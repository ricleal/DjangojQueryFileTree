{% extends "base.html" %}

{% block content %}

<div class="container">
  <h1>Browser</h1>
  <p>Pick a file...</p>
  <div class="row">
    <div class="col-sm-4">
      <div class="form-group">
        <label for="usr">File path:</label>
        <input type="text" class="form-control" id="file">
      </div>
      <button id="file_button" type="button" class="btn btn-primary">Pick a file</button>
    </div>
    <div class="col-sm-4" id="col_browser">
      <pre class="pre-scrollable">
        <div class="browser">
        </div>
      </pre>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-8">
      <h2>Lorem ipsum </h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur ac commodo dolor. Aliquam eleifend tincidunt elit, eget aliquet elit cursus ut. Mauris feugiat augue nulla, ut hendrerit neque hendrerit et. Cum sociis natoque penatibus et magnis
        dis parturient montes, nascetur ridiculus mus. Donec efficitur condimentum leo. In elit lorem, lobortis nec dictum sed, feugiat eu eros. Sed imperdiet diam nec ornare pharetra. Nam feugiat metus dolor, et egestas nisl condimentum et. Donec facilisis
        sapien enim, vel aliquam ipsum bibendum ac. Integer venenatis malesuada augue, ultrices consequat leo suscipit eu. Curabitur lacinia leo viverra erat fermentum tristique. Suspendisse placerat nibh nec justo tempus eleifend. Nam nec dictum tellus.
        Aliquam a ipsum sit amet metus bibendum faucibus. Aenean laoreet porta feugiat.</p>
    </div>
  </div>
</div>

{% endblock %}

{% block body_end %}
<script type="text/javascript">
  $(document).ready(function() {
    $("#col_browser").hide();
  });

  function openBrowser() {
    $('.browser').fileTree({
      script: '/app1/browser/'
    }, function(file) {
      //alert(file);
      $('#file').val(file);
      $("#col_browser").hide(1000);
    });
  };
  //$('#file_button').on('click', openBrowser());
  $('#file_button').on('click', function(event) {
    event.preventDefault(); // To prevent following the link (optional)
    $("#col_browser").show();
    openBrowser();
  });
</script>
{% endblock %}
